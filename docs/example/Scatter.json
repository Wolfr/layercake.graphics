{"main":{"title":"index.svelte","contents":"<script>\n  import { LayerCake, Svg, Canvas } from 'layercake';\n  import points from './data/points.js';\n  import Scatter from './components/Scatter.svelte';\n  import ScatterCanvas from './components/ScatterCanvas.svelte';\n  import Voronoi from './components/Voronoi.svelte';\n  import AxisX from './components/AxisX.svelte';\n  import AxisY from './components/AxisY.svelte';\n\n  const r = 3;\n  const padding = 10;\n  const color = '#fff';\n</script>\n\n<style>\n  .chart-container {\n    width: 100%;\n    height: 100%;\n  }\n</style>\n\n<div class=\"chart-container\">\n  <LayerCake\n    padding={{ top: 10, right: 5, bottom: 20, left: 25 }}\n    x={'myX'}\n    y={'myY'}\n    xPadding={[padding, padding]}\n    yPadding={[padding, padding]}\n    data={points}\n  >\n\n    <Svg>\n      <AxisX/>\n      <AxisY/>\n    </Svg>\n\n    <Canvas>\n      <ScatterCanvas\n        r={r * 1.5}\n        fill={'#0cf'}\n      />\n    </Canvas>\n\n    <Svg>\n      <Scatter\n        {r}\n        fill={color}\n      />\n      <Voronoi/>\n    </Svg>\n  </LayerCake>\n</div>"},"dek":"","components":[{"title":"./components/Scatter.svelte","contents":"<script>\n  import { getContext } from 'svelte';\n\n  const { data, xGet, yGet } = getContext('LayerCake');\n\n  export let r = 5;\n  export let fill = '#000';\n</script>\n\n<g class=\"scatter-group\">\n  {#each $data as d}\n    <circle\n      cx={$xGet(d)}\n      cy={$yGet(d)}\n      {r}\n      {fill}\n    />\n  {/each}\n</g>"},{"title":"./components/ScatterCanvas.svelte","contents":"<script>\n  import { getContext } from 'svelte';\n  import { scaleCanvas } from 'layercake';\n\n  const { data, xGet, yGet, width, height } = getContext('LayerCake');\n\n  const { ctx } = getContext('ctx');\n\n  export let r;\n  export let fill;\n\n  $: {\n    if ($ctx) {\n      /* --------------------------------------------\n       * If you were to have multiple canvas layers\n       * maybe for some artistic layering purposes\n       * put these reset functions in the first layer, not each one\n       * since they should only run once per update\n       */\n      scaleCanvas($ctx, $width, $height);\n      $ctx.clearRect(0, 0, $width, $height);\n\n      /* --------------------------------------------\n       * Draw our scatterplot\n       */\n      $data.forEach(d => {\n        $ctx.beginPath();\n        $ctx.arc($xGet(d), $yGet(d), r, 0, 2 * Math.PI, false);\n        $ctx.fillStyle = fill;\n        $ctx.fill();\n      });\n    }\n  }\n</script>"},{"title":"./components/Voronoi.svelte","contents":"<script>\n  import { Delaunay } from 'd3-delaunay';\n  import { getContext } from 'svelte';\n  import { uniques } from 'layercake';\n\n  const { data, xGet, yGet, width, height } = getContext('LayerCake');\n\n  function log (point) {\n    console.log(point, point.data);\n  }\n\n  $: points = $data.map(d => {\n    const point = [$xGet(d), $yGet(d)];\n    point.data = d;\n    return point;\n  });\n\n  $: uniquePoints = uniques(points, d => d.join(), false);\n\n  $: voronoi = Delaunay.from(points).voronoi([0, 0, $width, $height]);\n\n</script>\n\n<style>\n  .voronoi-cell {\n    fill: none;\n    stroke: none;\n    pointer-events: all;\n  }\n\n  .voronoi-cell:hover {\n    stroke: #000;\n  }\n</style>\n\n{#each uniquePoints as point, i}\n  <path class=\"voronoi-cell\" d={voronoi.renderCell(i)} on:mouseover=\"{log(point)}\"></path>\n{/each}"},{"title":"./components/AxisX.svelte","contents":"<script>\n  import { getContext } from 'svelte';\n\n  const { width, height, xScale, yScale } = getContext('LayerCake');\n\n  export let gridlines = true;\n  export let formatTick = d => d;\n  export let baseline = false;\n  export let snapTicks = false;\n  export let ticks;\n  export let tickNumber;\n\n  $: tickVals = ticks || $xScale.ticks(tickNumber);\n\n  function textAnchor(i) {\n    if (snapTicks === true) {\n      if (i === 0) {\n        return 'start';\n      }\n      if (i === tickVals.length - 1) {\n        return 'end';\n      }\n    }\n    return 'middle';\n  }\n</script>\n\n{#if $xScale}\n  <g class='axis x-axis'>\n    {#each tickVals as tick, i}\n      <g class='tick tick-{ tick }' transform='translate({$xScale(tick)},{$yScale.range()[0]})'>\n        {#if gridlines !== false}\n          <line y1='{$height * -1}' y2='0' x1='0' x2='0'></line>\n        {/if}\n        <text y='16' text-anchor='{textAnchor(i)}'>{formatTick(tick)}</text>\n      </g>\n    {/each}\n    {#if baseline === true}\n      <line class=\"baseline\" y1='{$height + 0.5}' y2='{$height + 0.5}' x1='0' x2='{$width}'></line>\n    {/if}\n  </g>\n{/if}\n\n<style>\n  .tick {\n    font-size: .725em;\n    font-weight: 200;\n  }\n\n  line,\n  .tick line {\n    stroke: #aaa;\n    stroke-dasharray: 2;\n  }\n\n  .tick text {\n    fill: #666;\n  }\n\n  .baseline {\n    stroke-dasharray: 0;\n  }\n</style>"},{"title":"./components/AxisY.svelte","contents":"<script>\n  import { getContext } from 'svelte';\n\n  const { padding, yScale } = getContext('LayerCake');\n\n  export let ticks;\n  export let tickNumber = 5;\n  export let gridlines = true;\n  export let formatTick = d => d;\n\n</script>\n\n<g class='axis y-axis' transform='translate(-{$padding.left}, 0)'>\n  {#each $yScale.ticks(ticks || tickNumber) as tick, i}\n    <g class='tick tick-{tick}' transform='translate(0, {$yScale(tick)})'>\n      {#if gridlines !== false}\n        <line x2='100%'></line>\n      {/if}\n      <text y='-4'>{formatTick(tick)}</text>\n    </g>\n  {/each}\n</g>\n\n<style>\n  .tick {\n    font-size: .725em;\n    font-weight: 200;\n  }\n\n  .tick line {\n    stroke: #aaa;\n    stroke-dasharray: 2;\n  }\n\n  .tick text {\n    fill: #666;\n    text-anchor: start;\n  }\n\n  .tick.tick-0 line {\n    stroke-dasharray: 0;\n  }\n</style>"}],"modules":[{"title":"./data/points.js","contents":"export default [\n  {\n    myX: 1979,\n    myY: 7.19\n  },\n  {\n    myX: 1980,\n    myY: 7.83\n  },\n  {\n    myX: 1981,\n    myY: 7.24\n  },\n  {\n    myX: 1982,\n    myY: 7.44\n  },\n  {\n    myX: 1983,\n    myY: 7.51\n  },\n  {\n    myX: 1984,\n    myY: 7.1\n  },\n  {\n    myX: 1985,\n    myY: 6.91\n  },\n  {\n    myX: 1986,\n    myY: 7.53\n  },\n  {\n    myX: 1987,\n    myY: 7.47\n  },\n  {\n    myX: 1988,\n    myY: 7.48\n  },\n  {\n    myX: 1989,\n    myY: 7.03\n  },\n  {\n    myX: 1990,\n    myY: 6.23\n  },\n  {\n    myX: 1991,\n    myY: 6.54\n  },\n  {\n    myX: 1992,\n    myY: 7.54\n  },\n  {\n    myX: 1993,\n    myY: 6.5\n  },\n  {\n    myX: 1994,\n    myY: 7.18\n  },\n  {\n    myX: 1995,\n    myY: 6.12\n  },\n  {\n    myX: 1996,\n    myY: 7.87\n  },\n  {\n    myX: 1997,\n    myY: 6.73\n  },\n  {\n    myX: 1998,\n    myY: 6.55\n  },\n  {\n    myX: 1999,\n    myY: 6.23\n  },\n  {\n    myX: 2000,\n    myY: 6.31\n  },\n  {\n    myX: 2001,\n    myY: 6.74\n  },\n  {\n    myX: 2002,\n    myY: 5.95\n  },\n  {\n    myX: 2003,\n    myY: 6.13\n  },\n  {\n    myX: 2004,\n    myY: 6.04\n  },\n  {\n    myX: 2005,\n    myY: 5.56\n  },\n  {\n    myX: 2006,\n    myY: 5.91\n  },\n  {\n    myX: 2007,\n    myY: 4.29\n  },\n  {\n    myX: 2008,\n    myY: 4.72\n  },\n  {\n    myX: 2009,\n    myY: 5.38\n  },\n  {\n    myX: 2010,\n    myY: 4.92\n  },\n  {\n    myX: 2011,\n    myY: 4.61\n  },\n  {\n    myX: 2012,\n    myY: 3.62\n  },\n  {\n    myX: 2013,\n    myY: 5.35\n  },\n  {\n    myX: 2014,\n    myY: 5.28\n  },\n  {\n    myX: 2015,\n    myY: 4.63\n  },\n  {\n    myX: 2016,\n    myY: 4.72\n  }\n];"}],"componentModules":[]}