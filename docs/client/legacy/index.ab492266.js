import{K as t,L as e,a as n,b as a,i as r,s as i,d as s,S as c,P as o,e as u,t as l,f,h,j as d,k as m,m as v,l as p,o as g,Q as w,p as y,q as E,M as k,g as $,y as L,n as R,r as S,z as b,w as x,u as C,x as A,B as G,R as T,C as D,D as j,T as B,U as I,V as M}from"./client.fb55f97f.js";function q(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function z(t,e,n){var a=t.slice();return a[10]=e[n],a}function K(t){var e,n,a,r,i,s,c,o,$,L,R,S,b=t[10].metadata.title+"",x=t[10].html+"";return{c:function(){e=u("section"),n=u("h2"),a=l(b),r=f(),i=u("small"),s=u("a"),c=l("edit this section"),$=f(),R=f(),this.h()},l:function(t){e=h(t,"SECTION",{id:!0,class:!0});var o=d(e);n=h(o,"H2",{class:!0});var u=d(n);a=m(u,b),r=v(u),i=h(u,"SMALL",{class:!0});var l=d(i);s=h(l,"A",{href:!0,target:!0,rel:!0});var f=d(s);c=m(f,"edit this section"),f.forEach(p),l.forEach(p),u.forEach(p),$=v(o),R=v(o),o.forEach(p),this.h()},h:function(){g(s,"href",o="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+t[10].file),g(s,"target","_blank"),g(s,"rel","nofollow"),g(i,"class","svelte-1097mf0"),g(n,"class","svelte-1097mf0"),L=new w(x,R),g(e,"id",S=t[10].slug),g(e,"class","svelte-1097mf0")},m:function(t,o){y(t,e,o),E(e,n),E(n,a),E(n,r),E(n,i),E(i,s),E(s,c),E(e,$),L.m(e),E(e,R)},p:function(t,n){1&n&&b!==(b=t[10].metadata.title+"")&&k(a,b),1&n&&o!==(o="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+t[10].file)&&g(s,"href",o),1&n&&x!==(x=t[10].html+"")&&L.p(x),1&n&&S!==(S=t[10].slug)&&g(e,"id",S)},d:function(t){t&&p(e)}}}function N(t){var e,n,a,r,i,s,c,l,m;function w(e){t[8].call(null,e)}var k={sections:t[0]};void 0!==t[2]&&(k.activeGuideSection=t[2]);var T=new o({props:k});B.push((function(){return I(T,"activeGuideSection",w)}));for(var D=t[0],j=[],q=0;q<D.length;q+=1)j[q]=K(z(t,D,q));return{c:function(){e=u("meta"),n=u("meta"),a=u("link"),r=f(),i=u("sidebar"),$(T.$$.fragment),c=f(),l=u("div");for(var t=0;t<j.length;t+=1)j[t].c();this.h()},l:function(t){var s=L('[data-svelte="svelte-1u1w7sg"]',document.head);e=h(s,"META",{name:!0,content:!0}),n=h(s,"META",{name:!0,content:!0}),a=h(s,"LINK",{rel:!0,href:!0}),s.forEach(p),r=v(t),i=h(t,"SIDEBAR",{class:!0});var o=d(i);R(T.$$.fragment,o),o.forEach(p),c=v(t),l=h(t,"DIV",{id:!0,class:!0});for(var u=d(l),f=0;f<j.length;f+=1)j[f].l(u);u.forEach(p),this.h()},h:function(){document.title="LayerCake - Guide",g(e,"name","og:title"),g(e,"content","Layer Cake — Guide"),g(n,"name","twitter:title"),g(n,"content","Layer Cake — Guide"),g(a,"rel","stylesheet"),g(a,"href","hljs.css"),g(i,"class","svelte-1097mf0"),g(l,"id","container"),g(l,"class","content svelte-1097mf0")},m:function(s,o){E(document.head,e),E(document.head,n),E(document.head,a),y(s,r,o),y(s,i,o),S(T,i,null),y(s,c,o),y(s,l,o);for(var u=0;u<j.length;u+=1)j[u].m(l,null);t[9](l),m=!0},p:function(t,e){var n=b(e,1)[0],a={};if(1&n&&(a.sections=t[0]),!s&&4&n&&(s=!0,a.activeGuideSection=t[2],M((function(){return s=!1}))),T.$set(a),1&n){var r;for(D=t[0],r=0;r<D.length;r+=1){var i=z(t,D,r);j[r]?j[r].p(i,n):(j[r]=K(i),j[r].c(),j[r].m(l,null))}for(;r<j.length;r+=1)j[r].d(1);j.length=D.length}},i:function(t){m||(x(T.$$.fragment,t),m=!0)},o:function(t){C(T.$$.fragment,t),m=!1},d:function(s){p(e),p(n),p(a),s&&p(r),s&&p(i),A(T),s&&p(c),s&&p(l),G(j,s),t[9](null)}}}function P(t){return V.apply(this,arguments)}function V(){return(V=t(e.mark((function t(n){return e.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.params,n.query,t.abrupt("return",this.fetch("api/guide").then((function(t){return t.json()})).then((function(t){return{sections:t}})));case 2:case"end":return t.stop()}}),t,this)})))).apply(this,arguments)}function H(t,e,n){var a,r,i=e.sections,s=[],c="introduction",o=[];function u(){if(a){var t=a.getBoundingClientRect().top;s=[].map.call(o,(function(e){return e.getBoundingClientRect().top-t}))}}function l(){for(var t=-window.scrollY,e=o.length;e--;)if(s[e]+t<100){var a=o[e].id;return void(a!==c&&(n(2,r=a),c=a))}}return T((function(){if("undefined"!=typeof window){o=a.querySelectorAll("[id]"),c=window.location.hash.slice(1),n(2,r=c),u(),l(),window.addEventListener("scroll",l,!0),window.addEventListener("resize",u,!0);setTimeout(u,1e3),setTimeout(u,5e3)}})),t.$set=function(t){"sections"in t&&n(0,i=t.sections)},[i,a,r,s,c,o,u,l,function(t){n(2,r=t)},function(t){B[t?"unshift":"push"]((function(){n(1,a=t)}))}]}var O=function(t){n(u,c);var e,o=(e=u,function(){var t,n=D(e);if(q()){var a=D(this).constructor;t=Reflect.construct(n,arguments,a)}else t=n.apply(this,arguments);return j(this,t)});function u(t){var e;return a(this,u),e=o.call(this),r(s(e),t,H,N,i,{sections:0}),e}return u}();export default O;export{P as preload};
