import{S as e,a as t,s,e as n,C as a,x as i,b as l,d as o,D as c,y as r,f as d,g as h,a0 as u,j as f,w as m,E as g,G as p,H as v,I as w,t as E,o as q,J as y,F as $,a1 as k,A as G,W as C,Y as L}from"./index.65a269a0.js";import{G as S}from"./GuideContents.d9fe16e4.js";function x(e,t,s){const n=e.slice();return n[10]=t[s],n}function A(e){let t,s,p,v,w,E,q,y,$,k,G,C,L=e[10].metadata.title+"",S=e[10].html+"";return{c(){t=n("section"),s=n("h2"),p=a(L),v=i(),w=n("small"),E=n("a"),q=a("edit this section"),$=i(),G=i(),this.h()},l(e){t=l(e,"SECTION",{id:!0,class:!0});var n=o(t);s=l(n,"H2",{class:!0});var a=o(s);p=c(a,L),v=r(a),w=l(a,"SMALL",{class:!0});var i=o(w);E=l(i,"A",{href:!0,target:!0,rel:!0});var h=o(E);q=c(h,"edit this section"),h.forEach(d),i.forEach(d),a.forEach(d),$=r(n),G=r(n),n.forEach(d),this.h()},h(){h(E,"href",y="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file),h(E,"target","_blank"),h(E,"rel","nofollow"),h(w,"class","svelte-1sqcrqm"),h(s,"class","svelte-1sqcrqm"),k=new u(S,G),h(t,"id",C=e[10].slug),h(t,"class","svelte-1sqcrqm")},m(e,n){f(e,t,n),m(t,s),m(s,p),m(s,v),m(s,w),m(w,E),m(E,q),m(t,$),k.m(t),m(t,G)},p(e,s){1&s&&L!==(L=e[10].metadata.title+"")&&g(p,L),1&s&&y!==(y="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file)&&h(E,"href",y),1&s&&S!==(S=e[10].html+"")&&k.p(S),1&s&&C!==(C=e[10].slug)&&h(t,"id",C)},d(e){e&&d(t)}}}function b(e){let t,s,a,c,u,g,k,b,j;function I(t){e[8].call(null,t)}let T={sections:e[0]};void 0!==e[2]&&(T.activeGuideSection=e[2]);const B=new S({props:T});G.push(()=>C(B,"activeGuideSection",I));let D=e[0],M=[];for(let t=0;t<D.length;t+=1)M[t]=A(x(e,D,t));return{c(){t=n("meta"),s=n("meta"),a=n("link"),c=i(),u=n("sidebar"),p(B.$$.fragment),k=i(),b=n("div");for(let e=0;e<M.length;e+=1)M[e].c();this.h()},l(e){t=l(e,"META",{name:!0,content:!0}),s=l(e,"META",{name:!0,content:!0}),a=l(e,"LINK",{rel:!0,href:!0}),c=r(e),u=l(e,"SIDEBAR",{class:!0});var n=o(u);v(B.$$.fragment,n),n.forEach(d),k=r(e),b=l(e,"DIV",{id:!0,class:!0});var i=o(b);for(let e=0;e<M.length;e+=1)M[e].l(i);i.forEach(d),this.h()},h(){document.title="LayerCake - Guide",h(t,"name","og:title"),h(t,"content","Layer Cake — Guide"),h(s,"name","twitter:title"),h(s,"content","Layer Cake — Guide"),h(a,"rel","stylesheet"),h(a,"href","hljs.css"),h(u,"class","svelte-1sqcrqm"),h(b,"id","container"),h(b,"class","content svelte-1sqcrqm")},m(n,i){m(document.head,t),m(document.head,s),m(document.head,a),f(n,c,i),f(n,u,i),w(B,u,null),f(n,k,i),f(n,b,i);for(let e=0;e<M.length;e+=1)M[e].m(b,null);e[9](b),j=!0},p(e,[t]){const s={};if(1&t&&(s.sections=e[0]),!g&&4&t&&(g=!0,s.activeGuideSection=e[2],L(()=>g=!1)),B.$set(s),1&t){let s;for(D=e[0],s=0;s<D.length;s+=1){const n=x(e,D,s);M[s]?M[s].p(n,t):(M[s]=A(n),M[s].c(),M[s].m(b,null))}for(;s<M.length;s+=1)M[s].d(1);M.length=D.length}},i(e){j||(E(B.$$.fragment,e),j=!0)},o(e){q(B.$$.fragment,e),j=!1},d(n){d(t),d(s),d(a),n&&d(c),n&&d(u),y(B),n&&d(k),n&&d(b),$(M,n),e[9](null)}}}async function j({params:e,query:t}){return this.fetch("api/guide").then(e=>e.json()).then(e=>({sections:e}))}function I(e,t,s){let n,a,{sections:i}=t,l=[],o="introduction",c=[];function r(){if(n){const{top:e}=n.getBoundingClientRect();l=[].map.call(c,t=>t.getBoundingClientRect().top-e)}}function d(){const e=-window.scrollY;let t=c.length;for(;t--;)if(l[t]+e<100){const e=c[t],{id:n}=e;return void(n!==o&&(s(2,a=n),o=n))}}return k(()=>{if("undefined"!=typeof window){c=n.querySelectorAll("[id]"),o=window.location.hash.slice(1),s(2,a=o),r(),d(),window.addEventListener("scroll",d,!0),window.addEventListener("resize",r,!0);setTimeout(r,1e3),setTimeout(r,5e3)}}),e.$set=e=>{"sections"in e&&s(0,i=e.sections)},[i,n,a,l,o,c,r,d,function(e){a=e,s(2,a)},function(e){G[e?"unshift":"push"](()=>{s(1,n=e)})}]}export default class extends e{constructor(e){super(),t(this,e,I,b,s,{sections:0})}}export{j as preload};
