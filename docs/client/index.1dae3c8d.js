import{S as e,b as t,s,e as n,C as a,y as i,d as l,f as o,D as c,z as r,g as h,h as d,a2 as u,k as f,x as m,E as g,H as p,_ as v,I as k,J as w,t as E,p as b,K as y,G as $,a3 as j,B as G,X as C,Z as L}from"./index.2b5e2a5b.js";import{G as S}from"./GuideContents.7b35e871.js";function q(e,t,s){const n=e.slice();return n[10]=t[s],n}function x(e){let t,s,p,v,k,w,E,b,y,$,j,G,C=e[10].metadata.title+"",L=e[10].html+"";return{c(){t=n("section"),s=n("h2"),p=a(C),v=i(),k=n("small"),w=n("a"),E=a("edit this section"),y=i(),j=i(),this.h()},l(e){t=l(e,"SECTION",{id:!0,class:!0});var n=o(t);s=l(n,"H2",{class:!0});var a=o(s);p=c(a,C),v=r(a),k=l(a,"SMALL",{class:!0});var i=o(k);w=l(i,"A",{href:!0,target:!0,rel:!0});var d=o(w);E=c(d,"edit this section"),d.forEach(h),i.forEach(h),a.forEach(h),y=r(n),j=r(n),n.forEach(h),this.h()},h(){d(w,"href",b="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file),d(w,"target","_blank"),d(w,"rel","nofollow"),d(k,"class","svelte-1bejkq2"),d(s,"class","svelte-1bejkq2"),$=new u(L,j),d(t,"id",G=e[10].slug),d(t,"class","svelte-1bejkq2")},m(e,n){f(e,t,n),m(t,s),m(s,p),m(s,v),m(s,k),m(k,w),m(w,E),m(t,y),$.m(t),m(t,j)},p(e,s){1&s&&C!==(C=e[10].metadata.title+"")&&g(p,C),1&s&&b!==(b="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file)&&d(w,"href",b),1&s&&L!==(L=e[10].html+"")&&$.p(L),1&s&&G!==(G=e[10].slug)&&d(t,"id",G)},d(e){e&&h(t)}}}function A(e){let t,s,a,c,u,g,j,A,I;function T(t){e[8].call(null,t)}let B={sections:e[0]};void 0!==e[2]&&(B.activeGuideSection=e[2]);const D=new S({props:B});G.push(()=>C(D,"activeGuideSection",T));let M=e[0],R=[];for(let t=0;t<M.length;t+=1)R[t]=x(q(e,M,t));return{c(){t=n("meta"),s=n("meta"),a=n("link"),c=i(),u=n("sidebar"),p(D.$$.fragment),j=i(),A=n("div");for(let e=0;e<R.length;e+=1)R[e].c();this.h()},l(e){const n=v('[data-svelte="svelte-1u1w7sg"]',document.head);t=l(n,"META",{name:!0,content:!0}),s=l(n,"META",{name:!0,content:!0}),a=l(n,"LINK",{rel:!0,href:!0}),n.forEach(h),c=r(e),u=l(e,"SIDEBAR",{class:!0});var i=o(u);k(D.$$.fragment,i),i.forEach(h),j=r(e),A=l(e,"DIV",{id:!0,class:!0});var d=o(A);for(let e=0;e<R.length;e+=1)R[e].l(d);d.forEach(h),this.h()},h(){document.title="LayerCake - Guide",d(t,"name","og:title"),d(t,"content","Layer Cake — Guide"),d(s,"name","twitter:title"),d(s,"content","Layer Cake — Guide"),d(a,"rel","stylesheet"),d(a,"href","hljs.css"),d(u,"class","svelte-1bejkq2"),d(A,"id","container"),d(A,"class","content svelte-1bejkq2")},m(n,i){m(document.head,t),m(document.head,s),m(document.head,a),f(n,c,i),f(n,u,i),w(D,u,null),f(n,j,i),f(n,A,i);for(let e=0;e<R.length;e+=1)R[e].m(A,null);e[9](A),I=!0},p(e,[t]){const s={};if(1&t&&(s.sections=e[0]),!g&&4&t&&(g=!0,s.activeGuideSection=e[2],L(()=>g=!1)),D.$set(s),1&t){let s;for(M=e[0],s=0;s<M.length;s+=1){const n=q(e,M,s);R[s]?R[s].p(n,t):(R[s]=x(n),R[s].c(),R[s].m(A,null))}for(;s<R.length;s+=1)R[s].d(1);R.length=M.length}},i(e){I||(E(D.$$.fragment,e),I=!0)},o(e){b(D.$$.fragment,e),I=!1},d(n){h(t),h(s),h(a),n&&h(c),n&&h(u),y(D),n&&h(j),n&&h(A),$(R,n),e[9](null)}}}async function I({params:e,query:t}){return this.fetch("api/guide").then(e=>e.json()).then(e=>({sections:e}))}function T(e,t,s){let n,a,{sections:i}=t,l=[],o="introduction",c=[];function r(){if(n){const{top:e}=n.getBoundingClientRect();l=[].map.call(c,t=>t.getBoundingClientRect().top-e)}}function h(){const e=-window.scrollY;let t=c.length;for(;t--;)if(l[t]+e<100){const e=c[t],{id:n}=e;return void(n!==o&&(s(2,a=n),o=n))}}return j(()=>{if("undefined"!=typeof window){c=n.querySelectorAll("[id]"),o=window.location.hash.slice(1),s(2,a=o),r(),h(),window.addEventListener("scroll",h,!0),window.addEventListener("resize",r,!0);setTimeout(r,1e3),setTimeout(r,5e3)}}),e.$set=e=>{"sections"in e&&s(0,i=e.sections)},[i,n,a,l,o,c,r,h,function(e){a=e,s(2,a)},function(e){G[e?"unshift":"push"](()=>{s(1,n=e)})}]}export default class extends e{constructor(e){super(),t(this,e,T,A,s,{sections:0})}}export{I as preload};
