import{S as e,b as t,s,e as n,C as a,y as i,d as l,f as o,D as c,z as r,g as h,h as d,a2 as u,k as f,x as m,E as g,H as p,_ as v,I as w,J as E,t as y,p as k,K as $,G,a3 as C,B as L,X as S,Z as b}from"./index.2b5e2a5b.js";import{G as x}from"./GuideContents.4030c104.js";function A(e,t,s){const n=e.slice();return n[10]=t[s],n}function I(e){let t,s,p,v,w,E,y,k,$,G,C,L,S=e[10].metadata.title+"",b=e[10].html+"";return{c(){t=n("section"),s=n("h2"),p=a(S),v=i(),w=n("small"),E=n("a"),y=a("edit this section"),$=i(),C=i(),this.h()},l(e){t=l(e,"SECTION",{id:!0,class:!0});var n=o(t);s=l(n,"H2",{class:!0});var a=o(s);p=c(a,S),v=r(a),w=l(a,"SMALL",{class:!0});var i=o(w);E=l(i,"A",{href:!0,target:!0,rel:!0});var d=o(E);y=c(d,"edit this section"),d.forEach(h),i.forEach(h),a.forEach(h),$=r(n),C=r(n),n.forEach(h),this.h()},h(){d(E,"href",k="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file),d(E,"target","_blank"),d(E,"rel","nofollow"),d(w,"class","svelte-1097mf0"),d(s,"class","svelte-1097mf0"),G=new u(b,C),d(t,"id",L=e[10].slug),d(t,"class","svelte-1097mf0")},m(e,n){f(e,t,n),m(t,s),m(s,p),m(s,v),m(s,w),m(w,E),m(E,y),m(t,$),G.m(t),m(t,C)},p(e,s){1&s&&S!==(S=e[10].metadata.title+"")&&g(p,S),1&s&&k!==(k="https://github.com/mhkeller/layercake-examples/edit/master/src/content/guide/"+e[10].file)&&d(E,"href",k),1&s&&b!==(b=e[10].html+"")&&G.p(b),1&s&&L!==(L=e[10].slug)&&d(t,"id",L)},d(e){e&&h(t)}}}function T(e){let t,s,a,c,u,g,C,T,j;function B(t){e[8].call(null,t)}let D={sections:e[0]};void 0!==e[2]&&(D.activeGuideSection=e[2]);const M=new x({props:D});L.push(()=>S(M,"activeGuideSection",B));let R=e[0],q=[];for(let t=0;t<R.length;t+=1)q[t]=I(A(e,R,t));return{c(){t=n("meta"),s=n("meta"),a=n("link"),c=i(),u=n("sidebar"),p(M.$$.fragment),C=i(),T=n("div");for(let e=0;e<q.length;e+=1)q[e].c();this.h()},l(e){const n=v('[data-svelte="svelte-1u1w7sg"]',document.head);t=l(n,"META",{name:!0,content:!0}),s=l(n,"META",{name:!0,content:!0}),a=l(n,"LINK",{rel:!0,href:!0}),n.forEach(h),c=r(e),u=l(e,"SIDEBAR",{class:!0});var i=o(u);w(M.$$.fragment,i),i.forEach(h),C=r(e),T=l(e,"DIV",{id:!0,class:!0});var d=o(T);for(let e=0;e<q.length;e+=1)q[e].l(d);d.forEach(h),this.h()},h(){document.title="LayerCake - Guide",d(t,"name","og:title"),d(t,"content","Layer Cake — Guide"),d(s,"name","twitter:title"),d(s,"content","Layer Cake — Guide"),d(a,"rel","stylesheet"),d(a,"href","hljs.css"),d(u,"class","svelte-1097mf0"),d(T,"id","container"),d(T,"class","content svelte-1097mf0")},m(n,i){m(document.head,t),m(document.head,s),m(document.head,a),f(n,c,i),f(n,u,i),E(M,u,null),f(n,C,i),f(n,T,i);for(let e=0;e<q.length;e+=1)q[e].m(T,null);e[9](T),j=!0},p(e,[t]){const s={};if(1&t&&(s.sections=e[0]),!g&&4&t&&(g=!0,s.activeGuideSection=e[2],b(()=>g=!1)),M.$set(s),1&t){let s;for(R=e[0],s=0;s<R.length;s+=1){const n=A(e,R,s);q[s]?q[s].p(n,t):(q[s]=I(n),q[s].c(),q[s].m(T,null))}for(;s<q.length;s+=1)q[s].d(1);q.length=R.length}},i(e){j||(y(M.$$.fragment,e),j=!0)},o(e){k(M.$$.fragment,e),j=!1},d(n){h(t),h(s),h(a),n&&h(c),n&&h(u),$(M),n&&h(C),n&&h(T),G(q,n),e[9](null)}}}async function j({params:e,query:t}){return this.fetch("api/guide").then(e=>e.json()).then(e=>({sections:e}))}function B(e,t,s){let n,a,{sections:i}=t,l=[],o="introduction",c=[];function r(){if(n){const{top:e}=n.getBoundingClientRect();l=[].map.call(c,t=>t.getBoundingClientRect().top-e)}}function h(){const e=-window.scrollY;let t=c.length;for(;t--;)if(l[t]+e<100){const e=c[t],{id:n}=e;return void(n!==o&&(s(2,a=n),o=n))}}return C(()=>{if("undefined"!=typeof window){c=n.querySelectorAll("[id]"),o=window.location.hash.slice(1),s(2,a=o),r(),h(),window.addEventListener("scroll",h,!0),window.addEventListener("resize",r,!0);setTimeout(r,1e3),setTimeout(r,5e3)}}),e.$set=e=>{"sections"in e&&s(0,i=e.sections)},[i,n,a,l,o,c,r,h,function(e){a=e,s(2,a)},function(e){L[e?"unshift":"push"](()=>{s(1,n=e)})}]}export default class extends e{constructor(e){super(),t(this,e,B,T,s,{sections:0})}}export{j as preload};
